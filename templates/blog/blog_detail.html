{% extends 'base.html' %} {% block content %}
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
  integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<style>
  .detailsContainer {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .detailsContainer .cardContainer {
    display: flex;
    flex-direction: column;
    box-shadow: 5px 10px 8px #85586f;
    min-width: 30%;
  }
  .buttons {
    display: flex;
    justify-content: space-between;
    margin: 1rem 2rem;
  }

  /* delete button */

  .cardContainer .deleteButton {
    background-image: linear-gradient(
      to right,
      #c04848 0%,
      #480048 51%,
      #c04848 100%
    );

    padding: 0.3rem 1rem;
    text-align: center;
    text-transform: uppercase;
    transition: 0.5s;
    background-size: 200% auto;
    color: white;
    box-shadow: 0 0 20px #eee;
    border-radius: 10px;
    display: block;
  }

  .cardContainer .deleteButton:hover {
    background-position: right center;

    color: #fff;
    text-decoration: none;
  }

  /* update button */
  .cardContainer .updateButton {
    background-image: linear-gradient(
      to right,
      #f85032 0%,
      #e73827 51%,
      #f85032 100%
    );
    padding: 0.3rem 1rem;
    text-align: center;
    text-transform: uppercase;
    transition: 0.5s;
    background-size: 200% auto;
    color: white;
    box-shadow: 0 0 20px #eee;
    border-radius: 10px;
    display: block;
  }

  .card__image {
    height: 30rem;
    width: 100%;
    background-size: cover;
    background-position: center;
  }

  .cardContainer .updateButton:hover {
    background-position: right center; /* change the direction of the change here */
    color: #fff;
    text-decoration: none;
  }
</style>
<style>
  form {
    font: 95% Arial, Helvetica, sans-serif;
    max-width: 400px;
    margin: 10px auto;
    padding: 16px;
    background: #f7f7f7;
  }
  form h1 {
    background: #9385d3;
    padding: 20px 0;
    font-size: 140%;
    font-weight: 300;
    text-align: center;
    color: #fff;
    margin: -16px -16px 16px -16px;
  }
  form input[type="text"],
  form input[type="date"],
  form input[type="datetime"],
  form input[type="email"],
  form input[type="number"],
  form input[type="search"],
  form input[type="time"],
  form input[type="url"],
  form input[type="image"],
  form input[type="password"],
  form input,
  .password,
  #id_phone_number,
  form textarea,
  form select {
    -webkit-transition: all 0.3s ease-in-out;
    -moz-transition: all 0.3s ease-in-out;
    -ms-transition: all 0.3s ease-in-out;
    -o-transition: all 0.3s ease-in-out;
    outline: none;
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    width: 100%;
    background: #fff;
    margin-bottom: 4%;
    border: 1px solid #ccc;
    padding: 3%;
    color: #555;
    font: 95% Arial, Helvetica, sans-serif;
  }
  form input[type="text"]:focus,
  form input[type="date"]:focus,
  form input[type="datetime"]:focus,
  form input[type="email"]:focus,
  form input[type="number"]:focus,
  form input[type="search"]:focus,
  form input[type="time"]:focus,
  form input[type="url"]:focus,
  form input[type="image"]:focus,
  form input[type="password"]:focus,
  .password:focus,
  #id_phone_number:focus,
  form textarea:focus,
  form select:focus {
    box-shadow: 0 0 5px #7e43d1;
    padding: 3%;
    border: 1px solid #c843d1;
  }

  form input[type="submit"],
  form input[type="button"],
  .noButton {
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    width: 100%;
    padding: 3%;
    background: #9457ea;
    border-bottom: 2px solid #6528ba;
    border-top-style: none;
    border-right-style: none;
    border-left-style: none;
    color: #fff;
  }
  form input[type="submit"]:hover,
  form input[type="button"]:hover,
  .noButton:hover {
    background: #8e58da;
    cursor: pointer;
  }
</style>

<div class="detailsContainer">
  <div class="cardContainer">
    <div class="card__header">
      <img
        src="{{ blog.image.url }}"
        alt="card__image"
        class="card__image"
        width="600"
      />
    </div>
    <div class="card__body">
      <span class="tag tag-blue">{{ blog.category }}</span>
      <h4>{{blog.title}}</h4>
      <p>{{ blog.content }}</p>
    </div>
    <div class="card__footer">
      <div class="user">
        <img
          src="{{ request.profile_pic }}"
          alt="user__image"
          class="user__image"
        />
        <div class="user__info">
          <h5>{{ request.user }}</h5>
          <small>{{ blog.last_date}}</small>
          <div>{{ request.user.profile_pic}}</div>
        </div>
      </div>

      <article>
        <span><i class="fa-regular fa-comment"></i></span> <small>{{ blog.comments.all|length }}</small>
        <span><i class="fa-solid fa-eye"></i></span> <small>{{ request.count }}</small>
        <span><i class="fa-regular fa-heart"></i></span> <small>1</small>
      </article>

      <div class="buttons">
        <a href="{% url 'update' blog.slug %}" class="updateButton">Update</a>
        <a href="{% url 'delete' blog.slug %}" class="deleteButton">Delete</a>
      </div>
    </div>
  </div>
</div>
<form action="." method="post">
  {% csrf_token %} {{ form.as_p }}
  <div class="">
    <div class="">
      <input type="submit" value="Submit" />
    </div>
  </div>
</form>

<div class="">
  <div>
    <h1>Commnets</h1>
    <!-- buradaki comments related_name den geliyor -->
    {% for comment in blog.comments.all %}
    <p>
      <span>{{ comment.body }}</span>
      <span>{{ comment.date_added | date:"F Y" }}</span>
    </p>
    {% endfor %}
  </div>
</div>

{% endblock %}
